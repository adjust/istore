BEGIN;
-- device_iostore_io should persist device_iostore;
-- ./spec/device_iostore_io_spec.rb:20;
CREATE EXTENSION istore;
CREATE TABLE device_iostore AS SELECT 'bot=>1,mac=>2'::device_istore;
SELECT * FROM device_iostore;
     device_istore     
-----------------------
 "bot"=>"1","mac"=>"2"
(1 row)

ROLLBACK;
BEGIN;
-- device_iostore_io should persist device_iostore;
-- ./spec/device_iostore_io_spec.rb:20;
CREATE EXTENSION istore;
CREATE TABLE device_iostore AS SELECT '"bot"=>"1","bot"=>"2"'::device_istore;
SELECT * FROM device_iostore;
 device_istore 
---------------
 "bot"=>"3"
(1 row)

ROLLBACK;
BEGIN;
-- device_iostore_io should persist device_iostore;
-- ./spec/device_iostore_io_spec.rb:20;
CREATE EXTENSION istore;
CREATE TABLE device_iostore AS SELECT '"bot"=>"1","mac"=>"2"'::device_istore;
SELECT * FROM device_iostore;
     device_istore     
-----------------------
 "bot"=>"1","mac"=>"2"
(1 row)

ROLLBACK;
BEGIN;
-- device_iostore_io should persist device_iostore;
-- ./spec/device_iostore_io_spec.rb:20;
CREATE EXTENSION istore;
CREATE TABLE device_iostore AS SELECT '"mac"=>"+1","bot"=>"2"'::device_istore;
SELECT * FROM device_iostore;
     device_istore     
-----------------------
 "bot"=>"2","mac"=>"1"
(1 row)

ROLLBACK;
BEGIN;
-- device_iostore_io should persist device_iostore;
-- ./spec/device_iostore_io_spec.rb:20;
CREATE EXTENSION istore;
CREATE TABLE device_iostore AS SELECT ' "mac"=>"+1","bot"=>"2"'::device_istore;
SELECT * FROM device_iostore;
     device_istore     
-----------------------
 "bot"=>"2","mac"=>"1"
(1 row)

ROLLBACK;
BEGIN;
-- device_iostore_io should persist device_iostore;
-- ./spec/device_iostore_io_spec.rb:20;
CREATE EXTENSION istore;
CREATE TABLE device_iostore AS SELECT '"mac"=> "+1","bot"=>"2"'::device_istore;
SELECT * FROM device_iostore;
     device_istore     
-----------------------
 "bot"=>"2","mac"=>"1"
(1 row)

ROLLBACK;
BEGIN;
-- device_iostore_io should persist device_iostore;
-- ./spec/device_iostore_io_spec.rb:20;
CREATE EXTENSION istore;
CREATE TABLE device_iostore AS SELECT '"mac"=>"+1" ,"bot"=>"2"'::device_istore;
SELECT * FROM device_iostore;
     device_istore     
-----------------------
 "bot"=>"2","mac"=>"1"
(1 row)

ROLLBACK;
BEGIN;
-- device_iostore_io should persist device_iostore;
-- ./spec/device_iostore_io_spec.rb:20;
CREATE EXTENSION istore;
CREATE TABLE device_iostore AS SELECT '"mac"=>"+1", "bot"=>"2"'::device_istore;
SELECT * FROM device_iostore;
     device_istore     
-----------------------
 "bot"=>"2","mac"=>"1"
(1 row)

ROLLBACK;
BEGIN;
-- device_iostore_io should persist device_iostore;
-- ./spec/device_iostore_io_spec.rb:20;
CREATE EXTENSION istore;
CREATE TABLE device_iostore AS SELECT '"mac"=>"+1","bot"=>"2" '::device_istore;
SELECT * FROM device_iostore;
     device_istore     
-----------------------
 "bot"=>"2","mac"=>"1"
(1 row)

ROLLBACK;
